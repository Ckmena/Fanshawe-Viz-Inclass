{% extends 'layout.html' %} {% block page_content %}
<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
    {% if content %} 
    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h2 class="display-4">New Updates</h1>
            <p>Fetch Status: {{ content['status'] }}</p>
            
            <p>
            {% for daily_data in content['items'] %}
                <p>
                    <h5>Fetch Status <span class="badge {{ 'badge-success' if content['status'] == 'ok' else 'badge-warning' }}">{{ content['status'] }}</span></h5>
                    <h5>Last Updated <span class="badge badge-secondary">{{ daily_data['date']|strftime }}</span></h5>
                    <h5>Total Tested <span class="badge badge-primary">{{ daily_data['total'] }}</span></h5>
                    <h5>Negative <span class="badge badge-success progress-bar-striped">{{ daily_data['negative'] }}</span></h5>
                    <h5>Pending <span class="badge badge-info progress-bar-striped">{{ daily_data['pending'] }}</span></h5>
                    <h5>Confirmed <span class="badge badge-danger progress-bar-striped">{{ daily_data['confirmed'] }}</span></h5>
                    <h5>Resolved <span class="badge badge-dark progress-bar-striped">{{ daily_data['resolved'] }}</span></h5>
                </p>
                <div class="progress">
                    <div class="progress-bar progress-bar-striped bg-dark" role="progressbar" style="width: {{'%0.3f'|format(daily_data['resolved']/daily_data['total']*100|float)}}%" aria-valuenow="{{ daily_data['resolved'] }}" aria-valuemin="0" aria-valuemax="{{ daily_data['total'] }}"></div>
                    <div class="progress-bar progress-bar-striped bg-danger" role="progressbar" style="width: {{'%0.3f'|format(daily_data['confirmed']/daily_data['total']*100|float)}}%" aria-valuenow="{{ daily_data['confirmed'] }}" aria-valuemin="0" aria-valuemax="{{ daily_data['total'] }}"></div>
                    <div class="progress-bar bg-info progress-bar-striped" role="progressbar" style="width: {{'%0.3f'|format(daily_data['pending']/daily_data['total']*100|float)}}%" aria-valuenow="{{ daily_data['pending'] }}" aria-valuemin="0" aria-valuemax="{{ daily_data['total'] }}"></div>
                    <div class="progress-bar bg-success progress-bar-striped" role="progressbar" style="width: {{'%0.3f'|format(daily_data['negative']/daily_data['total']*100|float)}}%" aria-valuenow="{{ daily_data['negative'] }}" aria-valuemin="0" aria-valuemax="{{ daily_data['total'] }}"></div>
                </div>
            {% endfor %}
            </p>
            <p class="lead">
                <a class="btn btn-primary btn-lg" href="/" role="button">Check Dashboard</a>
            </p>
        </div>
    </div>
    {% endif %}
</main>
{% endblock %}